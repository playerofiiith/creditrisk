{% load crispy_forms_tags %}
{% load static %}
{% if session == "1" %}
	<!doctype html>
	<html lang="en">
		<head>
			<meta charset="utf-8">
		    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
			<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
			<!-- Font Awesome -->
			<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
			<!-- Google Fonts -->
			<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
			<!-- Bootstrap core CSS -->
			<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
			<!-- Material Design Bootstrap -->
			<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.15.0/css/mdb.min.css" rel="stylesheet">
			<!-- JQuery -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
			<!-- Bootstrap tooltips -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
			<!-- Bootstrap core JavaScript -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
			<!-- MDB core JavaScript -->
			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.15.0/js/mdb.min.js"></script>

			<link rel="stylesheet" href="/media/credit_risk/static/css/navbar.css">
			
		</head>
		<body>
			<div class="container">
				<nav class="vertical-nav bg-white" id="sidebar">
					 <div class="media d-flex align-items-center">
					 	<img src="/media/credit_risk/logo.jpg" alt="..." class="">
					 </div>
					<ul class="nav flex-column bg-white">
						<li class="nav-item">
							<a href="{% url 'login:index' %}" class="nav-link text-dark font-italic">
	            				Home
	        				</a>
						</li>
						<li class="nav-item">
							<a href="{% url 'loan_admin:index' %}" class="nav-link text-dark font-italic bg-light">
	            				Add Feature
	        				</a>
						</li>
						<li class="nav-item">
							<a href="{% url 'loan_admin:configuration' %}" class="nav-link text-dark font-italic">
	            				Configuration
	        				</a>
						</li>
						<li class="nav-item">
							<a href="{% url 'loan_admin:criteria' %}" class="nav-link text-dark font-italic">
	            				Criteria
	        				</a>
						</li>
						<li class="nav-item">
							<a href="{% url 'loan_admin:set_scale' %}" class="nav-link text-dark font-italic">
	            				Set Scale
	        				</a>
						</li>
						<li class="nav-item">
							<a href="{% url 'loan_admin:uploadCSV' %}" class="nav-link text-dark font-italic">
	            				Upload Dataset
	        				</a>
						</li>
						<li class="nav-item">
							<a href="{% url 'login:logout' %}" class="nav-link text-dark font-italic" id="link">
		        				Logout
		    				</a>
						</li>
					</ul>
				</nav>
				<div class="page-content" id="content">
					<div class="card">

					    <h5 class="card-header info-color white-text text-center py-4">
					        <strong>Add Feature</strong>
					    </h5>
					    {% if messages %}
						<div class="alert alert-success" role="alert">
						    {% for message in messages %}
						    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
						    {% endfor %}
						</div>
						{% endif %}
					    <!--Card content-->
					    <div class="card-body px-lg-5 pt-0">
					    	
					        <!-- Form -->
					        <form class="" style="color: #757575;" action="{% url 'loan_admin:add' %}" method="POST" role="form">
					        	{% csrf_token %}
					        	<div class="md-form">
							        {{ form.name }}
							        <label for="1">{{ form.name.label }}</label>
							    </div>
					            <!-- Subject -->
					            <div class="" id="id_1">
					            	<label>{{ form.value.label }}</label>
					            	{{ form.value }}

					            </div>
					            <div class="" id="id_2">
					            	<label>{{ form.data_type.label }}</label>
					            	{{ form.data_type }}

					            </div>
					            <div class="" id="id_3">
					            	<label>{{ form.category.label }}</label>
					            	{{ form.category }}

					            </div>

					            <!-- Copy -->
					            <div class="form-check">
					                {{ form.status }}
					                <label class="form-check-label" for="customCheck1">
					                	{{ form.status.label }}
					                </label>
					            </div>
					            <input type="button" class="btn btn-default" value="Get" id="get_value">
					            <!-- Send button -->
					            <input class="btn btn-primary" value="submit" type="submit">

					        </form>
					        <!-- Form -->

					    </div>

					</div>
					<!-- Material form contact -->
					<!-- <h1>  </h1>
					{% if messages %}
					<div class="alert alert-success" role="alert">
					    {% for message in messages %}
					    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
					    {% endfor %}
					</div>
					{% endif %}
					<form action="{% url 'loan_admin:add' %}" method="POST" role="form">
						{% csrf_token %}
						<b>{{ form.name.label }}</b>
						{{ form.name }}<br>
						<div id="id_1">
							<b>{{ form.value.label }}</b>
							{{ form.value }}<br><br>
						</div>
						<div id="id_2">
							<b>{{ form.data_type.label }}</b>
							{{ form.data_type }}<br><br>
						</div>
						<div id="id_3">
							<b>{{ form.category.label }}</b>
							{{ form.category }}<br><br>
						</div>
						<div class="custom-control custom-checkbox mb-3">
								{{ form.status }}
								<label class="custom-control-label" for="customCheck1">
									<b>{{ form.status.label }}</b>
								</label>
						</div>
						<input type="button" class="btn btn-success" value="Get" id="get_value">
					    <input type="submit" value="Submit" class="btn btn-primary">
					</form> -->
				</div>
			</div>
			<script>
				$(document).ready(function(){
				    $("#get_value").on('click', function () {
						console.log( $("#id_name").val() );
						var name = $("#id_name").val();
						$.ajax({
							url: '/loan_admin/ajax/get_feature_values/',
							data: {
								'name': name
							},
							dataType: 'json',
							success: function (data) {
								$("#id_1 select").val(data.value);
								$("#id_2 select").val(data.data_type);
								$("#id_3 select").val(data.category);
								console.log(data.status);
								$("#customCheck1").prop("checked", data.status);
							}
						});
				    });
				});
			</script>
		</body>
	</html>
{% else %}
	Page not found.
{% endif %}